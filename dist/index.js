!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,o=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(i=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:o+r.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,n){var o={},i=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),r=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),a=null,p=0,s=[],c=n(0);function u(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(w(i.parts[a],e))}else{var p=[];for(a=0;a<i.parts.length;a++)p.push(w(i.parts[a],e));o[i.id]={id:i.id,refs:1,parts:p}}}}function d(t,e){for(var n=[],o={},i=0;i<t.length;i++){var r=t[i],a=e.base?r[0]+e.base:r[0],p={css:r[1],media:r[2],sourceMap:r[3]};o[a]?o[a].parts.push(p):n.push(o[a]={id:a,parts:[p]})}return n}function l(t,e){var n=r(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=s[s.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),s.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=r(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,i)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=s.indexOf(t);e>=0&&s.splice(e,1)}function h(t){var e=document.createElement("style");return t.attrs.type="text/css",v(e,t.attrs),l(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function w(t,e){var n,o,i,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var s=p++;n=a||(a=h(e)),o=g.bind(null,n,s,!1),i=g.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",v(e,t.attrs),l(t,e),e}(e),o=function(t,e,n){var o=n.css,i=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||r)&&(o=c(o));i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([o],{type:"text/css"}),p=t.href;t.href=URL.createObjectURL(a),p&&URL.revokeObjectURL(p)}.bind(null,n,e),i=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(e),o=function(t,e){var n=e.css,o=e.media;o&&t.setAttribute("media",o);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){f(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=d(t,e);return u(n,e),function(t){for(var i=[],r=0;r<n.length;r++){var a=n[r];(p=o[a.id]).refs--,i.push(p)}t&&u(d(t,e),e);for(r=0;r<i.length;r++){var p;if(0===(p=i[r]).refs){for(var s=0;s<p.parts.length;s++)p.parts[s]();delete o[p.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function g(t,e,n,o){var i=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=m(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var i=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(o),r=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[n].concat(r).concat([i]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,"div.web-pet {\n  display: block;\n  width: 100px;\n  height: 100px;\n  position: fixed;\n  left: 160px;\n  top: 0px;\n  z-index: 9999; }\n  div.web-pet * {\n    box-sizing: border-box; }\n  div.web-pet > div.pet {\n    width: 100px;\n    height: 100px;\n    cursor: move;\n    background-repeat: no-repeat;\n    background-size: 100%; }\n  div.web-pet > div.pet-menu {\n    width: 90px;\n    height: 100px;\n    position: absolute;\n    right: -91px;\n    top: 0px;\n    border-radius: 4px;\n    display: none; }\n    div.web-pet > div.pet-menu ul {\n      box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n      padding: 10px 0px;\n      padding-left: 0;\n      margin-top: 0;\n      margin-bottom: 0;\n      border-radius: 4px; }\n      div.web-pet > div.pet-menu ul li {\n        position: relative;\n        display: block;\n        list-style: none;\n        line-height: 36px;\n        padding: 0 20px;\n        margin: 0;\n        font-size: 14px;\n        color: #606266;\n        cursor: pointer;\n        outline: none; }\n        div.web-pet > div.pet-menu ul li:hover {\n          color: #2c84cc; }\n  div.web-pet > div.pet-operate {\n    position: absolute;\n    bottom: -60px;\n    left: -35px;\n    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n    margin-top: 0;\n    margin-bottom: 0;\n    border-radius: 4px;\n    max-height: 50px;\n    min-height: 50px;\n    min-width: 170px;\n    max-width: 170px;\n    overflow: hidden;\n    display: none; }\n    div.web-pet > div.pet-operate > div {\n      position: relative;\n      top: 0; }\n      div.web-pet > div.pet-operate > div.switch-anmiate {\n        transition: top 0.5s; }\n      div.web-pet > div.pet-operate > div .pet-operate-list {\n        padding: 13px 10px; }\n        div.web-pet > div.pet-operate > div .pet-operate-list a {\n          cursor: pointer; }\n      div.web-pet > div.pet-operate > div .pet-operate-content {\n        position: relative;\n        padding: 10px 5px; }\n        div.web-pet > div.pet-operate > div .pet-operate-content .return-btn {\n          float: left;\n          width: 19%;\n          margin-left: 2px;\n          padding: 0px;\n          font-size: 12px;\n          text-align: center;\n          height: 30px;\n          white-space: nowrap;\n          border: 1px solid #ccc;\n          border-radius: 4px;\n          background-color: #fff;\n          cursor: pointer; }\n        div.web-pet > div.pet-operate > div .pet-operate-content input {\n          float: left;\n          width: 79%;\n          display: block;\n          height: 30px;\n          padding: 5px 10px;\n          font-size: 14px;\n          line-height: 1.42857143;\n          color: #555;\n          background-color: #fff;\n          background-image: none;\n          border: 1px solid #ccc;\n          border-radius: 4px;\n          outline: none; }\n\n.pet-paw-warp {\n  display: block;\n  width: 100px;\n  height: 100px;\n  position: fixed;\n  left: 160px;\n  top: 0px;\n  z-index: 9998; }\n  .pet-paw-warp .pet-paw-list {\n    position: absolute;\n    left: 50%;\n    bottom: 25%;\n    transform-origin: 100% 100%;\n    transform: rotate(360deg);\n    font-size: 50px;\n    color: #3598dc; }\n    .pet-paw-warp .pet-paw-list > svg {\n      display: none; }\n    .pet-paw-warp .pet-paw-list .pet-paw {\n      width: 20px;\n      height: 30px;\n      animation: 2050ms pawAnimation ease-in-out 1;\n      opacity: 0; }\n      .pet-paw-warp .pet-paw-list .pet-paw svg {\n        width: 100%;\n        height: 100%; }\n      .pet-paw-warp .pet-paw-list .pet-paw .icon {\n        fill: currentColor; }\n    .pet-paw-warp .pet-paw-list .pet-paw:nth-child(odd) {\n      transform: rotate(-10deg); }\n    .pet-paw-warp .pet-paw-list .pet-paw:nth-child(even) {\n      transform: rotate(10deg) translate(125%, 0); }\n    .pet-paw-warp .pet-paw-list .pet-paw:nth-child(1) {\n      animation-delay: 1.25s; }\n    .pet-paw-warp .pet-paw-list .pet-paw:nth-child(2) {\n      animation-delay: 1s; }\n    .pet-paw-warp .pet-paw-list .pet-paw:nth-child(3) {\n      animation-delay: 0.75s; }\n    .pet-paw-warp .pet-paw-list .pet-paw:nth-child(4) {\n      animation-delay: 0.5s; }\n    .pet-paw-warp .pet-paw-list .pet-paw:nth-child(5) {\n      animation-delay: 0.25s; }\n    .pet-paw-warp .pet-paw-list .pet-paw:nth-child(6) {\n      animation-delay: 0s; }\n\n@keyframes pawAnimation {\n  0% {\n    opacity: 1; }\n  50% {\n    opacity: 0; }\n  100% {\n    opacity: 0; } }\n",""])},function(t,e,n){var o=n(3);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,i);o.locals&&(t.exports=o.locals)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.isFn=function(t){return"function"==typeof t&&t.constructor==Function};e.getJquery=function(){return new Promise(function(t,e){var n=document.createElement("script");n.type="text/javascript",n.src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js",n.onload=function(e){t(e)},n.onerror=e,document.head.appendChild(n)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.container='<div class="web-pet"></div>';e.pet='<div class="pet"></div>';e.menu='<div class="pet-menu">\n        <ul>\n            <li>聊天</li>\n        </ul>\n    </div>';e.operate='<div class="pet-operate">\n        <div class="switch-anmiate">\n            <div class="pet-operate-list"></div>\n        </div>\n    </div>';e.returnBtn='<button class="return-btn">取消</button>';e.chatBtn='<a>\n        <img class="emoji" alt="chat" height="20" width="20" src="https://assets-cdn.github.com/images/icons/emoji/speech_balloon.png">\n    </a>';e.chatContent='<div class="pet-operate-content" data-type="chat">\n        <input />\n    </div>';e.pawList='<div class="pet-paw-warp">\n        <div class="pet-paw-list">\n            <svg>\n                <symbol id="pet-paw-svg" viewBox="0 0 249 209.32">\n                    <ellipse cx="27.917" cy="106.333" stroke-width="0" rx="27.917" ry="35.833"></ellipse>\n                    <ellipse cx="84.75" cy="47.749" stroke-width="0" rx="34.75" ry="47.751"></ellipse>\n                    <ellipse cx="162" cy="47.749" stroke-width="0" rx="34.75" ry="47.751"></ellipse>\n                    <ellipse cx="221.083" cy="106.333" stroke-width="0" rx="27.917" ry="35.833"></ellipse>\n                    <path stroke-width="0" d="M43.98 165.39s9.76-63.072 76.838-64.574c0 0 71.082-6.758 83.096 70.33 0 0 2.586 19.855-12.54 31.855 0 0-15.75 17.75-43.75-6.25 0 0-7.124-8.374-24.624-7.874 0 0-12.75-.125-21.5 6.625 0 0-16.375 18.376-37.75 12.75 0 0-28.29-7.72-19.77-42.86z"></path>\n                </symbol>\n            </svg>\n        </div>\n    </div>\n    ';e.paw='<div class="pet-paw">\n        <svg class="icon">\n            <use xlink:href="#pet-paw-svg"></use>\n        </svg>\n    </div>\n    '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=n(5);n(4);var r=function(){function t(t){this.options={name:"pet",language:"mandarin",character:"lazy",footPrint:!0,operate:{chat:!0},position:{x:0,y:0},action:{randomMove:!0,sayMyself:!0,joke:!0},statusImg:{default:"https://web-pet-1253668581.cos.ap-chengdu.myqcloud.com/default.png",hover:"https://web-pet-1253668581.cos.ap-chengdu.myqcloud.com/hover.png",move:"https://web-pet-1253668581.cos.ap-chengdu.myqcloud.com/move.png",drop:"https://web-pet-1253668581.cos.ap-chengdu.myqcloud.com/drop.png"},serverUrl:{},on:{create:function(){},mounted:function(){}}};var e=this;if(!window)throw new Error("抱歉，我只能在浏览器中花里胡哨");window.jQuery&&window.$.fn?e.create(t):i.getJquery().then(function(){e.create(t)})}return t.prototype.create=function(t){this.$=window.jQuery,t&&(this.options=this.$.extend(!0,{},this.options,t)),this.eventEmiter("create").init().actionEvent().done()},t.prototype.init=function(){var t=this.$,e=t(o.container),n=t(o.pet),i=t(o.menu),r=this.initOperate();return e.append(n,i,r),this.$container=e,this.$pet=this.$container.find("div.pet"),this.$menu=this.$container.find("div.pet-menu"),this.$operate=this.$container.find("div.pet-operate"),this.changeStatus("default"),this},t.prototype.initOperate=function(){var t=this.$,e=this,n=t(o.operate),i=this.options.operate,r=function(i){var r=t(o[i+"Btn"]),a=t(o[i+"Content"]),p=t(o.returnBtn);e.handleContentEvent(a,i),r.on("click",function(){return e.toggleOperateContent(i)}),p.on("click",function(){return e.toggleOperateContent()}),n.find("div.pet-operate-list").append(r),n.find("div.switch-anmiate").append(a.append(p))};for(var a in i)r(a);return n},t.prototype.handleContentEvent=function(t,e){"chat"==e&&t.on("keydown",function(t){t.keyCode})},t.prototype.toggleOperateContent=function(t){var e=this.$operate.find(".switch-anmiate"),n=-50*e.find("[data-type="+t+"]").siblings().length;t?e.css("top",n+"px"):e.css("top","0px")},t.prototype.actionEvent=function(){var t,e,n=this.$,o=this,i=o.$container,r=o.$pet,a=!1,p=!1;return n(document).mousemove(function(r){if(a){o.changeStatus("move");var s=r.pageX-t,c=r.pageY-e,u=n(window).width()-i.width(),d=n(document).height()-i.height();if(s>=0&&s<=u&&c>0&&c<=d){var l={top:c,left:s};i.css(l),o.updatePosition(l),p=!0}}}).mouseup(function(){a=!1}),i.mouseover(function(){o.toggleOperateBox("show"),o.changeStatus("move")}).mouseout(function(t){var e=t.target,n=e.nodeName,i=e.className;"div"==n&&"pet-operate"==i||o.toggleOperateBox("hide"),o.changeStatus("default")}),r.click(function(){p?p=!1:(o.changeStatus("move"),o.randomMove())}).mousedown(function(n){3==n.which&&o.toggleMenu("show"),a=!0,t=n.pageX-parseInt(i.css("left")),e=n.pageY-parseInt(i.css("top"))}).bind("contextmenu",function(t){return!1}),this},t.prototype.done=function(){var t=this.options;return this.$(window.document.body).append(this.$container),console.info("hello, my name is "+t.name),this.updatePosition(),this.eventEmiter("mounted"),this},t.prototype.changeStatus=function(t){return this.$pet.attr("style","background-image: url("+this.options.statusImg[t]+")"),this},t.prototype.eventEmiter=function(t){var e=this.options.on;return i.isFn(e[t])&&e[t].call(this),this},t.prototype.randomMove=function(){var t=this,e={top:0,left:0},n=[.1,.2,.3,.4,.5,.6,.7,.75,-.1,-.2,-.3,-.4,-.5,-.6,-.7,-.75],o=t.options.position;return["top","left"].forEach(function(t){var o="top"==t?document.documentElement.clientHeight:document.body.offsetWidth,i=Math.floor(Math.random()*n.length),r=o/2*(1+n[i]);e[t]=r}),t.options.footPrint&&t.initFootPrint(o,e),t.$container.stop().animate(e,{duration:500,complete:function(){t.updatePosition({top:e.top,left:e.left})}}),t},t.prototype.initFootPrint=function(t,e){var n=this.$,i=Math.abs(e.left-t.left),r=Math.abs(e.top-t.top),a=Math.sqrt(i*i+r*r),p=Math.round(Math.asin(r/a)/Math.PI*180),s=n(o.pawList);s.css(t);var c=this.countQuadrant(t,e),u=s.find(".pet-paw-list");u.css({transform:"rotate("+this.angleByQuadrant(c,p)+"deg)",height:a});for(var d=0;d<Math.ceil(a/30);d++)u.prepend(n(o.paw));this.$(window.document.body).append(s)},t.prototype.angleByQuadrant=function(t,e){return 1==t?270+e:2==t?90+e:3==t?270-e:4==t?90-e:void 0},t.prototype.countQuadrant=function(t,e){var n=t.left,o=t.top,i=e.left,r=e.top;if(i<n){if(r>o)return 3;if(r<o)return 1}if(i>n){if(r>o)return 2;if(r<o)return 4}if(r==o){if(r>0){if(i>n)return 2;if(i<n)return 1}if(r<0){if(i>n)return 4;if(i<n)return 3}}if(i==n){if(i>0){if(r>o)return 2;if(r<o)return 4}if(i<0){if(r>o)return 1;if(r<o)return 3}}},t.prototype.updatePosition=function(t){this.options.position=t||this.$pet.offset()},t.prototype.toggleOperateBox=function(t){void 0===t&&(t="show");var e="show"==t?"fadeIn":"fadeOut";return this.$operate.stop()[e](),this},t.prototype.toggleMenu=function(t){void 0===t&&(t="show");var e="show"==t?"fadeIn":"fadeOut";return this.$menu.stop()[e](),this},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(7);e.WebPet=o.default,e.default=o.default}])});